# Comparing `tmp/odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,27 +1,27 @@
-Zip file size: 40162 bytes, number of entries: 25
--rw-r--r--  2.0 unx     1245 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/README.rst
--rw-r--r--  2.0 unx      181 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/__init__.py
--rw-r--r--  2.0 unx      924 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/__manifest__.py
--rw-r--r--  2.0 unx      521 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/data/product_usage_type_data.xml
--rw-r--r--  2.0 unx      381 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/__init__.py
--rw-r--r--  2.0 unx     1777 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/mixin_product_usage_m2o_configurator.py
--rw-r--r--  2.0 unx     2554 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_account.py
--rw-r--r--  2.0 unx     1410 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_category.py
--rw-r--r--  2.0 unx     2642 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_category_account.py
--rw-r--r--  2.0 unx     2277 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_product.py
--rw-r--r--  2.0 unx     1436 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_template.py
--rw-r--r--  2.0 unx     2642 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_template_account.py
--rw-r--r--  2.0 unx      336 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/models/product_usage_type.py
--rw-r--r--  2.0 unx     1065 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/security/ir.model.access.csv
--rw-r--r--  2.0 unx      548 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/security/res_group_data.xml
--rw-r--r--  2.0 unx    23279 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/static/description/icon.png
--rw-r--r--  2.0 unx     1024 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/templates/product_usage_m2_configurator_templates.xml
--rw-r--r--  2.0 unx     1737 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/views/product_category_views.xml
--rw-r--r--  2.0 unx     1719 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/views/product_product_views.xml
--rw-r--r--  2.0 unx     1733 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/views/product_template_views.xml
--rw-r--r--  2.0 unx     2102 b- defN 23-Dec-02 07:23 odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml
--rw-r--r--  2.0 unx     1856 b- defN 23-Dec-02 07:23 odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Dec-02 07:23 odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Dec-02 07:23 odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3150 b- defN 23-Dec-02 07:23 odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/RECORD
-25 files, 56636 bytes uncompressed, 34662 bytes compressed:  38.8%
+Zip file size: 40652 bytes, number of entries: 25
+-rw-r--r--  2.0 unx     1245 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/README.rst
+-rw-r--r--  2.0 unx      181 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/__init__.py
+-rw-r--r--  2.0 unx      924 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/__manifest__.py
+-rw-r--r--  2.0 unx      521 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/data/product_usage_type_data.xml
+-rw-r--r--  2.0 unx      381 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/__init__.py
+-rw-r--r--  2.0 unx     1777 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/mixin_product_usage_m2o_configurator.py
+-rw-r--r--  2.0 unx     2554 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_account.py
+-rw-r--r--  2.0 unx     1410 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_category.py
+-rw-r--r--  2.0 unx     2642 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_category_account.py
+-rw-r--r--  2.0 unx     2879 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_product.py
+-rw-r--r--  2.0 unx     1436 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_template.py
+-rw-r--r--  2.0 unx     2642 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_template_account.py
+-rw-r--r--  2.0 unx     1410 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/models/product_usage_type.py
+-rw-r--r--  2.0 unx     1065 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      548 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/security/res_group_data.xml
+-rw-r--r--  2.0 unx    23279 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/static/description/icon.png
+-rw-r--r--  2.0 unx     1024 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/templates/product_usage_m2_configurator_templates.xml
+-rw-r--r--  2.0 unx     1737 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/views/product_category_views.xml
+-rw-r--r--  2.0 unx     1719 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/views/product_product_views.xml
+-rw-r--r--  2.0 unx     1733 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/views/product_template_views.xml
+-rw-r--r--  2.0 unx     2621 b- defN 24-Apr-20 02:37 odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml
+-rw-r--r--  2.0 unx     1854 b- defN 24-Apr-20 02:37 odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-20 02:37 odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-Apr-20 02:37 odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3151 b- defN 24-Apr-20 02:37 odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/RECORD
+25 files, 58830 bytes uncompressed, 35152 bytes compressed:  40.2%
```

## zipnote {}

```diff
@@ -57,20 +57,20 @@
 
 Filename: odoo/addons/ssi_product_usage_account_type/views/product_template_views.xml
 Comment: 
 
 Filename: odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml
 Comment: 
 
-Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/METADATA
+Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/WHEEL
+Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/top_level.txt
+Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/RECORD
+Filename: odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/ssi_product_usage_account_type/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2022 OpenSynergy Indonesia
 # Copyright 2022 PT. Simetri Sinergi Indonesia
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 {
     "name": "Account Type Selection for Product",
-    "version": "14.0.1.3.0",
+    "version": "14.0.1.4.0",
     "website": "https://simetri-sinergi.id",
     "author": "PT. Simetri Sinergi Indonesia, OpenSynergy Indonesia",
     "license": "AGPL-3",
     "installable": True,
     "application": True,
     "depends": [
         "ssi_product",
```

## odoo/addons/ssi_product_usage_account_type/models/product_product.py

```diff
@@ -29,14 +29,22 @@
             )
 
         if not result:
             result = self.categ_id._get_account(
                 usage_code=usage_code, local_dict=local_dict
             )
 
+        if not result:
+            criteria = [("code", "=", usage_code)]
+            usage_types = self.env["product.usage_type"].search(criteria)
+
+            if len(usage_types) > 0:
+                usage_type = usage_types[0]
+                result = usage_type._get_account(local_dict=local_dict)
+
         return result
 
     def _get_product_tax(self, usage_code, local_dict=False):
         self.ensure_one()
         result = False
 
         result = self._get_tax(usage_code=usage_code)
@@ -47,14 +55,22 @@
             )
 
         if not result:
             result = self.categ_id._get_tax(
                 usage_code=usage_code, local_dict=local_dict
             )
 
+        if not result:
+            criteria = [("code", "=", usage_code)]
+            usage_types = self.env["product.usage_type"].search(criteria)
+
+            if len(usage_types) > 0:
+                usage_type = usage_types[0]
+                result = usage_type._get_tax(local_dict=local_dict)
+
         return result
 
     def _get_account(self, usage_code, local_dict=False):
         self.ensure_one()
         ProductAccount = self.env["product.account"]
         result = False
```

## odoo/addons/ssi_product_usage_account_type/models/product_usage_type.py

```diff
@@ -1,13 +1,54 @@
 # Copyright 2022 OpenSynergy Indonesia
 # Copyright 2022 PT. Simetri Sinergi Indonesia
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
-from odoo import models
+from odoo import fields, models
 
 
 class ProductUsage(models.Model):
     _name = "product.usage_type"
     _inherit = [
         "mixin.master_data",
     ]
     _description = "Product Usage Type"
+
+    selection_method = fields.Selection(
+        string="Selection Method",
+        selection=[
+            ("fixed", "Fixed"),
+            ("python", "Python Code"),
+        ],
+        required=True,
+        default="fixed",
+    )
+    account_id = fields.Many2one(
+        string="Account",
+        comodel_name="account.account",
+        required=True,
+        ondelete="restrict",
+        company_dependent=True,
+    )
+    tax_selection_method = fields.Selection(
+        string="Tax Selection Method",
+        selection=[
+            ("fixed", "Fixed"),
+            ("python", "Python Code"),
+        ],
+        required=True,
+        default="fixed",
+    )
+    tax_ids = fields.Many2many(
+        string="Taxes",
+        comodel_name="account.tax",
+        relation="rel_usage_type_2_tax",
+        column1="usage_type_id",
+        column2="tax_id",
+    )
+
+    def _get_account(self, local_dict=False):
+        self.ensure_one()
+        return self.account_id
+
+    def _get_tax(self, local_dict=False):
+        self.ensure_one()
+        return self.tax_ids.ids
```

## odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml

### odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml

```diff
@@ -23,15 +23,26 @@
   </record>
   <record id="product_usage_type_view_form" model="ir.ui.view">
     <field name="name">product.usage_type form</field>
     <field name="model">product.usage_type</field>
     <field name="inherit_id" ref="ssi_master_data_mixin.mixin_master_data_view_form"/>
     <field name="mode">primary</field>
     <field name="arch" type="xml">
-      <data/>
+      <data>
+        <xpath expr="//page[1]" position="before">
+          <page name="default" string="Default Account Configuration">
+            <group>
+              <field name="selection_method"/>
+              <field name="account_id"/>
+              <field name="tax_selection_method"/>
+              <field name="tax_ids" widget="many2many_tags"/>
+            </group>
+          </page>
+        </xpath>
+      </data>
     </field>
   </record>
   <record id="product_usage_type_action" model="ir.actions.act_window">
     <field name="name">Product Usage Types</field>
     <field name="res_model">product.usage_type</field>
     <field name="view_mode">tree,form</field>
   </record>
```

## Comparing `odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/METADATA` & `odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-ssi-product-usage-account-type
-Version: 14.0.1.3.0
+Version: 14.0.1.4.0
 Summary: Account Type Selection for Product
 Home-page: https://simetri-sinergi.id
 Author: PT. Simetri Sinergi Indonesia, OpenSynergy Indonesia
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 14.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Requires-Python: >=3.6
 Requires-Dist: odoo14-addon-ssi-master-data-mixin
 Requires-Dist: odoo14-addon-ssi-product
-Requires-Dist: odoo (<14.1dev,>=14.0a)
+Requires-Dist: odoo <14.1dev,>=14.0a
 
 .. image:: https://img.shields.io/badge/licence-AGPL--3-blue.svg
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
 
 ==================================
 Account Type Selection for Product
```

## Comparing `odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/RECORD` & `odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 odoo/addons/ssi_product_usage_account_type/README.rst,sha256=v7ltakq1SL-XIEqf1tHDjy7Z8ozY1cjpXDlm0a0FWC4,1245
 odoo/addons/ssi_product_usage_account_type/__init__.py,sha256=VAkFvJXefoz7CVUwbL97HBfpLAYmvQPYXfYs71LOpzU,181
-odoo/addons/ssi_product_usage_account_type/__manifest__.py,sha256=X-3XtEFQENaO3nUPcpE2TVKXfLMjpWBb0AiU8WZYi1I,924
+odoo/addons/ssi_product_usage_account_type/__manifest__.py,sha256=Fxqee4uCkrOHfIh3AQpQ6gRsf3ogUggsiIBNa3oL7C4,924
 odoo/addons/ssi_product_usage_account_type/data/product_usage_type_data.xml,sha256=l3kB9Mo7ZEdSeXWuBBDp5TZJFXv_L_0Coq73eBdjoUA,521
 odoo/addons/ssi_product_usage_account_type/models/__init__.py,sha256=jvOnW_YE7SOi7rtYTtOsGVZjqJjcBEUm5fywYtSYNJY,381
 odoo/addons/ssi_product_usage_account_type/models/mixin_product_usage_m2o_configurator.py,sha256=IFRcElwZkQ3NouyfU2oLz5IDHCkOgjmsuKZbjSMCYIk,1777
 odoo/addons/ssi_product_usage_account_type/models/product_account.py,sha256=b0aEAEQH6DUor98A2QPatHBTIWx_buP_CwB6xbSnG0Y,2554
 odoo/addons/ssi_product_usage_account_type/models/product_category.py,sha256=LR4kalCjsOuB8dugZY9j-Ud43da9PAmyifgg_G2vrCY,1410
 odoo/addons/ssi_product_usage_account_type/models/product_category_account.py,sha256=aqGL0qg92S7IeUZjBg5laQY-SzIpaW_XJHc6492N2Uk,2642
-odoo/addons/ssi_product_usage_account_type/models/product_product.py,sha256=U3TI4_t570gMG0MbZNVtbRPoDMmO8DOBfHzRiU2qvLI,2277
+odoo/addons/ssi_product_usage_account_type/models/product_product.py,sha256=izhInD8a537FuzrBxD51tA_jyiwQFQZrxr6ds2t4RkY,2879
 odoo/addons/ssi_product_usage_account_type/models/product_template.py,sha256=DuyS52R6iuy3NYqs1IflhZ_YTbhikrg1ByVP0hvr1gs,1436
 odoo/addons/ssi_product_usage_account_type/models/product_template_account.py,sha256=zYgl485brAoGL6Mcwt0kBxy9hzUSk19cTQzS9LnUdo0,2642
-odoo/addons/ssi_product_usage_account_type/models/product_usage_type.py,sha256=JF6zmaqZ9lrqXugaIG0lqikAZgJ851NWHGv1yofoY9c,336
+odoo/addons/ssi_product_usage_account_type/models/product_usage_type.py,sha256=W_boCtzcGRw6BfgyPzs4a4O62PHhaBjbxrQrsGYjT6Y,1410
 odoo/addons/ssi_product_usage_account_type/security/ir.model.access.csv,sha256=vxo9mHkR0JJA7y3fFm6KZbai676BG8c6gmHHeHrCeqs,1065
 odoo/addons/ssi_product_usage_account_type/security/res_group_data.xml,sha256=P-E242ueVfCfmsG10dRNZp3jQEw0SrMM8HustZkrA7U,548
 odoo/addons/ssi_product_usage_account_type/static/description/icon.png,sha256=46V9ktxAfWOQ71_m7syaIirtvbQYyzSzRiajp77MCU4,23279
 odoo/addons/ssi_product_usage_account_type/templates/product_usage_m2_configurator_templates.xml,sha256=1be20xhMtdJhn22pO1MvApmAUSKgNusz8B8lJ3kH1dQ,1024
 odoo/addons/ssi_product_usage_account_type/views/product_category_views.xml,sha256=Bg6E7t-cp-uDSMRG10ZV7GObixPTmTMAy11uSvWYDck,1737
 odoo/addons/ssi_product_usage_account_type/views/product_product_views.xml,sha256=ACn9modJLgQmKCGdA02cWmVea5c70fR1hFg4aof9s7U,1719
 odoo/addons/ssi_product_usage_account_type/views/product_template_views.xml,sha256=xBlB5D2nC6Y7O6q3QXNrbz5JQTW9B6zo6d-Fh0fcjqw,1733
-odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml,sha256=tXrFIBtLBCdS1K7ryAQAgSPj2hUEH22QIBV2s3lnpfE,2102
-odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/METADATA,sha256=DmtIJdhAiptMX04h4PnxuCLskcsYm4WBRFlf9R5abbk,1856
-odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_ssi_product_usage_account_type-14.0.1.3.0.dist-info/RECORD,,
+odoo/addons/ssi_product_usage_account_type/views/product_usage_type_views.xml,sha256=J6wcHNy21J5i1VcwZlg3rBr14SdheBs-dE9jplnmoO4,2621
+odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/METADATA,sha256=kTpQhUKxsTZdFeFOcQNMts_NUERP3oPgLWaFJht6V7k,1854
+odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
+odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_ssi_product_usage_account_type-14.0.1.4.0.dist-info/RECORD,,
```

